<dashboard version="1.1" theme="dark">
  <label>Webex</label>
  <description>Cisco Webex collaboration devices and meetings</description>

  <fieldset submitButton="false">
    <input type="time" token="time" searchWhenChanged="true">
      <label>Time Range</label>
      <default>
        <earliest>1735689600</earliest>
        <latest>1736899200</latest>
      </default>
    </input>
  </fieldset>

  <row>
    <panel>
      <html>
        <div style="padding: 20px; background: linear-gradient(135deg, #1a1a1a 0%, #1f2d1f 100%); border-radius: 8px; border-left: 4px solid #00bceb;">
          <h2 style="color: #00bceb; margin-top: 0;">Cisco Webex</h2>
          <p style="color: #ccc; font-size: 1.1em;">Webex collaboration device events, meeting data, and quality metrics from 17 conference rooms across 3 locations.</p>
          <div style="display: flex; gap: 20px; margin-top: 15px; flex-wrap: wrap;">
            <div style="background: #333; padding: 10px 15px; border-radius: 5px;">
              <span style="color: #999;">Events:</span> <code style="color: #5CC05C;">FAKE:cisco:webex:events</code>
            </div>
            <div style="background: #333; padding: 10px 15px; border-radius: 5px;">
              <span style="color: #999;">Meetings TA:</span> <code style="color: #5CC05C;">FAKE:cisco:webex:meetings:*</code>
            </div>
            <div style="background: #333; padding: 10px 15px; border-radius: 5px;">
              <span style="color: #999;">API:</span> <code style="color: #5CC05C;">FAKE:cisco:webex:*</code>
            </div>
          </div>
        </div>
      </html>
    </panel>
  </row>

  <row>
    <panel>
      <title>Events by Type</title>
      <chart>
        <search>
          <query>index=fake_tshrt sourcetype="FAKE:cisco:webex:*"
| stats count by event_type
| sort - count
| head 10</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="charting.chart">pie</option>
        <option name="charting.drilldown">none</option>
        <option name="height">250</option>
      </chart>
    </panel>
    <panel>
      <title>Events Over Time</title>
      <chart>
        <search>
          <query>| tstats count where index=fake_tshrt sourcetype="FAKE:cisco:webex:*" by _time span=1h</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="charting.chart">area</option>
        <option name="charting.drilldown">none</option>
        <option name="height">250</option>
        <option name="charting.fieldColors">{"count": 0x00bceb}</option>
      </chart>
    </panel>
  </row>

  <row>
    <panel>
      <title>Total Events</title>
      <single>
        <search>
          <query>| tstats count where index=fake_tshrt sourcetype="FAKE:cisco:webex:*"</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="colorMode">block</option>
        <option name="rangeColors">["0x00bceb","0x00bceb"]</option>
        <option name="useColors">1</option>
      </single>
    </panel>
    <panel>
      <title>Meeting Rooms</title>
      <single>
        <search>
          <query>index=fake_tshrt sourcetype="FAKE:cisco:webex:*" | stats dc(room)</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="colorMode">block</option>
        <option name="rangeColors">["0x5CC05C","0x5CC05C"]</option>
        <option name="useColors">1</option>
      </single>
    </panel>
    <panel>
      <title>Meetings Started</title>
      <single>
        <search>
          <query>index=fake_tshrt sourcetype="FAKE:cisco:webex:*" event_type=meeting_started | stats count</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="colorMode">block</option>
        <option name="rangeColors">["0xf8be34","0xf8be34"]</option>
        <option name="useColors">1</option>
      </single>
    </panel>
    <panel>
      <title>Quality Issues</title>
      <single>
        <search>
          <query>index=fake_tshrt sourcetype="FAKE:cisco:webex:*" event_type=quality_metrics audio.mos_score&lt;3.5 | stats count</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="colorMode">block</option>
        <option name="rangeColors">["0xdc4e41","0xdc4e41"]</option>
        <option name="useColors">1</option>
      </single>
    </panel>
  </row>

  <row>
    <panel>
      <title>Conference Rooms (17 total)</title>
      <html>
        <div style="background: #1a1a1a; padding: 15px; border-radius: 5px;">
          <h4 style="color: #00bceb; margin-top: 0;">Boston (8 rooms)</h4>
          <p style="color: #ccc; font-size: 0.9em;">Cambridge (Boardroom), Faneuil, Quincy, North End, Back Bay, Engineering Lab, Harbor, Beacon</p>

          <h4 style="color: #00bceb; margin-top: 15px;">Atlanta (6 rooms)</h4>
          <p style="color: #ccc; font-size: 0.9em;">Peachtree (Training), Midtown, NOC, Buckhead, Decatur, Innovation Lab</p>

          <h4 style="color: #00bceb; margin-top: 15px;">Austin (3 rooms)</h4>
          <p style="color: #ccc; font-size: 0.9em;">Congress, 6th Street, Live Oak (Demo)</p>
        </div>
      </html>
    </panel>
    <panel>
      <title>Problem Rooms</title>
      <html>
        <div style="background: #1a1a1a; padding: 15px; border-radius: 5px;">
          <h4 style="color: #dc4e41; margin-top: 0;">Consistent Quality Issues</h4>
          <table style="width: 100%; border-collapse: collapse;">
            <tr style="background: #2a2a2a;">
              <th style="padding: 6px; text-align: left; border: 1px solid #444;">Room</th>
              <th style="padding: 6px; text-align: left; border: 1px solid #444;">Issues</th>
            </tr>
            <tr>
              <td style="padding: 6px; border: 1px solid #444;">North End</td>
              <td style="padding: 6px; border: 1px solid #444; color: #f8be34;">wifi_congestion, old_equipment</td>
            </tr>
            <tr>
              <td style="padding: 6px; border: 1px solid #444;">Peachtree</td>
              <td style="padding: 6px; border: 1px solid #444; color: #f8be34;">bandwidth_limited, echo_issues</td>
            </tr>
          </table>

          <h4 style="color: #f8be34; margin-top: 15px;">Sunny Rooms (Temp Variations)</h4>
          <p style="color: #ccc; font-size: 0.9em;">Cambridge (South), Midtown (West), Congress (Southwest)</p>
        </div>
      </html>
    </panel>
  </row>

  <row>
    <panel>
      <title>Event Types</title>
      <html>
        <div style="background: #1a1a1a; padding: 15px; border-radius: 5px;">
          <table style="width: 100%; border-collapse: collapse;">
            <tr style="background: #2a2a2a;">
              <th style="padding: 8px; text-align: left; border: 1px solid #444;">Event Type</th>
              <th style="padding: 8px; text-align: left; border: 1px solid #444;">Description</th>
            </tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #5CC05C;">meeting_started</td><td style="padding: 8px; border: 1px solid #444;">Meeting begins</td></tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #5CC05C;">participant_joined</td><td style="padding: 8px; border: 1px solid #444;">User joins meeting</td></tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #5CC05C;">participant_left</td><td style="padding: 8px; border: 1px solid #444;">User leaves meeting</td></tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #5CC05C;">meeting_ended</td><td style="padding: 8px; border: 1px solid #444;">Meeting ends</td></tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #f8be34;">quality_metrics</td><td style="padding: 8px; border: 1px solid #444;">Audio MOS, video loss, jitter</td></tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #5CC05C;">device_health</td><td style="padding: 8px; border: 1px solid #444;">CPU, memory, peripherals</td></tr>
            <tr><td style="padding: 8px; border: 1px solid #444; color: #5CC05C;">room_analytics</td><td style="padding: 8px; border: 1px solid #444;">People count, ambient noise</td></tr>
          </table>
        </div>
      </html>
    </panel>
    <panel>
      <title>Events by Room</title>
      <table>
        <search>
          <query>index=fake_tshrt sourcetype="FAKE:cisco:webex:*"
| stats count by room
| sort - count
| head 10</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>

  <row>
    <panel>
      <title>Use Cases</title>
      <html>
        <div style="background: #1a1a1a; padding: 20px; border-radius: 5px;">
          <h3 style="color: #5CC05C; margin-top: 0;">Common SPL Queries</h3>

          <h4 style="color: #ccc; margin-top: 20px;">Meeting Activity</h4>
          <pre style="background: #0d0d0d; padding: 10px; border-radius: 3px; overflow-x: auto; color: #5CC05C;">index=fake_tshrt sourcetype="FAKE:cisco:webex:*" event_type=meeting_started
| stats count by room | sort - count</pre>

          <h4 style="color: #ccc; margin-top: 20px;">Quality Issues</h4>
          <pre style="background: #0d0d0d; padding: 10px; border-radius: 3px; overflow-x: auto; color: #5CC05C;">index=fake_tshrt sourcetype="FAKE:cisco:webex:*" event_type=quality_metrics
| where audio.mos_score &lt; 3.5 OR video.packet_loss_pct &gt; 3
| table _time, room, audio.mos_score, video.packet_loss_pct</pre>

          <h4 style="color: #ccc; margin-top: 20px;">Room Utilization</h4>
          <pre style="background: #0d0d0d; padding: 10px; border-radius: 3px; overflow-x: auto; color: #5CC05C;">index=fake_tshrt sourcetype="FAKE:cisco:webex:*" event_type=meeting_started
| timechart span=1d count by room</pre>

          <h4 style="color: #ccc; margin-top: 20px;">After-Hours Activity</h4>
          <pre style="background: #0d0d0d; padding: 10px; border-radius: 3px; overflow-x: auto; color: #5CC05C;">index=fake_tshrt sourcetype="FAKE:cisco:webex:*"
| eval hour=strftime(_time, "%H")
| where hour &gt;= 20 OR hour &lt;= 6
| table _time, room, event_type, organizer</pre>
        </div>
      </html>
    </panel>
  </row>

  <row>
    <panel>
      <title>Sample Events</title>
      <table>
        <search>
          <query>index=fake_tshrt sourcetype="FAKE:cisco:webex:*"
| table _time, event_type, device_id, room, location_code, meeting_title, organizer, demo_id
| head 20</query>
          <earliest>$time.earliest$</earliest>
          <latest>$time.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="count">10</option>
      </table>
    </panel>
  </row>
</dashboard>
