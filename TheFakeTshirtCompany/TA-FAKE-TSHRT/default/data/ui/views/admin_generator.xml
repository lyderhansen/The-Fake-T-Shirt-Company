<dashboard version="1.1" theme="dark" script="admin_generator.js">
  <label>Log Generator</label>
  <description>Generate demo logs on-demand with full control over sources, scenarios, and options</description>

  <!-- ========================================================================
       ROW 1: Basic Settings
       ======================================================================== -->
  <row>
    <panel>
      <title>üì¶ Sources</title>
      <input type="multiselect" token="sources" searchWhenChanged="false">
        <label>Select Sources</label>
        <default>all</default>
        <delimiter>,</delimiter>
        <choice value="all">üåê All Sources</choice>
        <choice value="cloud">‚òÅÔ∏è Cloud (aws, gcp, entraid)</choice>
        <choice value="network">üîí Network (asa, meraki)</choice>
        <choice value="windows">ü™ü Windows (wineventlog, perfmon)</choice>
        <choice value="collaboration">üí¨ Collaboration (webex, exchange)</choice>
        <choice value="retail">üõí Retail (orders, servicebus)</choice>
        <choice value="itsm">üé´ ITSM (servicenow)</choice>
        <choice value="asa">Cisco ASA</choice>
        <choice value="meraki">Meraki (MX/MR/MS/MV/MT)</choice>
        <choice value="aws">AWS CloudTrail</choice>
        <choice value="gcp">GCP Audit</choice>
        <choice value="entraid">Entra ID</choice>
        <choice value="exchange">Exchange</choice>
        <choice value="webex">Webex Events</choice>
        <choice value="webex_ta">Webex TA (Meetings)</choice>
        <choice value="webex_api">Webex API</choice>
        <choice value="wineventlog">Windows Event Log</choice>
        <choice value="perfmon">Performance Monitor</choice>
        <choice value="linux">Linux Metrics</choice>
        <choice value="access">Apache Access</choice>
        <choice value="orders">Retail Orders</choice>
        <choice value="servicebus">Azure ServiceBus</choice>
        <choice value="servicenow">ServiceNow</choice>
      </input>
    </panel>

    <panel>
      <title>‚è±Ô∏è Time Settings</title>
      <input type="dropdown" token="days" searchWhenChanged="false">
        <label>Days to Generate</label>
        <default>14</default>
        <choice value="7">7 days</choice>
        <choice value="14">14 days (recommended)</choice>
        <choice value="21">21 days</choice>
        <choice value="31">31 days</choice>
      </input>
      <input type="text" token="start_date" searchWhenChanged="false">
        <label>Start Date (YYYY-MM-DD)</label>
        <default>2026-01-01</default>
      </input>
      <input type="dropdown" token="scale" searchWhenChanged="false">
        <label>Volume Scale</label>
        <default>1.0</default>
        <choice value="0.5">0.5x (Light)</choice>
        <choice value="1.0">1.0x (Normal)</choice>
        <choice value="1.5">1.5x (Heavy)</choice>
        <choice value="2.0">2.0x (Very Heavy)</choice>
      </input>
    </panel>
  </row>

  <!-- ========================================================================
       ROW 2: Scenarios
       ======================================================================== -->
  <row>
    <panel>
      <title>üé≠ Scenarios</title>
      <input type="dropdown" token="scenario_type" searchWhenChanged="false">
        <label>Scenario Type</label>
        <default>exfil</default>
        <choice value="none">None (baseline only)</choice>
        <choice value="all">All Scenarios</choice>
        <choice value="attack">Attack Scenarios</choice>
        <choice value="ops">Operations Scenarios</choice>
        <choice value="network">Network Scenarios</choice>
        <choice value="exfil">Exfil (APT attack, 14 days)</choice>
        <choice value="ransomware_attempt">Ransomware Attempt (days 8-9)</choice>
        <choice value="memory_leak">Memory Leak (days 4-10)</choice>
        <choice value="cpu_runaway">CPU Runaway (days 11-12)</choice>
        <choice value="disk_filling">Disk Filling (14 days)</choice>
        <choice value="firewall_misconfig">Firewall Misconfig (day 7)</choice>
        <choice value="certificate_expiry">Certificate Expiry (day 12)</choice>
      </input>
      <html>
        <style>
          .scenario-info {
            background: #1a2a2a;
            border: 1px solid #3d5a5a;
            border-radius: 4px;
            padding: 12px;
            margin-top: 10px;
            font-size: 12px;
            color: #8e9aa5;
          }
          .scenario-info h4 {
            margin: 0 0 8px 0;
            color: #5CC05C;
          }
        </style>
        <div class="scenario-info">
          <h4>Scenario Types</h4>
          <ul style="margin: 0; padding-left: 20px;">
            <li><strong>Attack:</strong> exfil, ransomware_attempt</li>
            <li><strong>Ops:</strong> memory_leak, cpu_runaway, disk_filling</li>
            <li><strong>Network:</strong> firewall_misconfig, certificate_expiry</li>
          </ul>
        </div>
      </html>
    </panel>
  </row>

  <!-- ========================================================================
       ROW 3: Advanced Options (Collapsible)
       ======================================================================== -->
  <row>
    <panel>
      <title>‚öôÔ∏è Advanced Options</title>
      <html>
        <style>
          .advanced-section {
            padding: 15px;
          }
          .option-group {
            background: #1f2527;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
          }
          .option-group h4 {
            margin: 0 0 12px 0;
            color: #5CC05C;
            font-size: 14px;
            border-bottom: 1px solid #2d3439;
            padding-bottom: 8px;
          }
          .option-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
          }
          .option-row label {
            width: 180px;
            color: #8e9aa5;
            font-size: 13px;
          }
          .option-row input, .option-row select {
            background: #171d21;
            border: 1px solid #3d4549;
            border-radius: 4px;
            color: #c3cbd4;
            padding: 6px 10px;
            font-size: 13px;
          }
          .option-row input[type="number"] {
            width: 80px;
          }
          .option-row input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
          }
          .option-row select {
            width: 120px;
          }
          .option-help {
            color: #6a7a85;
            font-size: 11px;
            margin-left: 10px;
          }
        </style>
        <div class="advanced-section">
          <div class="option-group">
            <h4>üìä Perfmon Options</h4>
            <div class="option-row">
              <label>Client Workstations</label>
              <input type="number" id="opt-clients" value="5" min="5" max="175"/>
              <span class="option-help">5-175 workstations</span>
            </div>
            <div class="option-row">
              <label>Client Interval (min)</label>
              <select id="opt-client-interval">
                <option value="5">5</option>
                <option value="15">15</option>
                <option value="30" selected="selected">30</option>
                <option value="60">60</option>
              </select>
              <span class="option-help">Minutes between metrics</span>
            </div>
            <div class="option-row">
              <label>Full Metrics</label>
              <input type="checkbox" id="opt-full-metrics"/>
              <span class="option-help">Include Disk/Network for all clients</span>
            </div>
          </div>

          <div class="option-group">
            <h4>üõí Orders Options</h4>
            <div class="option-row">
              <label>Orders per Day</label>
              <input type="number" id="opt-orders-per-day" value="224" min="50" max="5000"/>
              <span class="option-help">50-5000 orders/day</span>
            </div>
          </div>

          <div class="option-group">
            <h4>üì° Meraki Health Options</h4>
            <div class="option-row">
              <label>Health Interval (min)</label>
              <select id="opt-meraki-interval">
                <option value="5" selected="selected">5</option>
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="30">30</option>
              </select>
              <span class="option-help">~137K events/day at 5-min</span>
            </div>
            <div class="option-row">
              <label>Disable MR Health</label>
              <input type="checkbox" id="opt-no-mr-health"/>
              <span class="option-help">Skip wireless AP health (~10K events/day)</span>
            </div>
            <div class="option-row">
              <label>Disable MS Health</label>
              <input type="checkbox" id="opt-no-ms-health"/>
              <span class="option-help">Skip switch port health (~127K events/day)</span>
            </div>
          </div>

          <div class="option-group">
            <h4>üîß Execution Options</h4>
            <div class="option-row">
              <label>Parallel Workers</label>
              <input type="number" id="opt-parallel" value="4" min="1" max="8"/>
              <span class="option-help">1-8 parallel generators</span>
            </div>
          </div>
        </div>
      </html>
    </panel>
  </row>

  <!-- ========================================================================
       ROW 4: Action Buttons
       ======================================================================== -->
  <row>
    <panel>
      <title>üöÄ Generate</title>
      <html>
        <style>
          .action-panel {
            padding: 20px;
            text-align: center;
          }
          .btn {
            padding: 14px 32px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            margin: 0 10px;
          }
          .btn-primary {
            background: #5CC05C;
            color: white;
          }
          .btn-primary:hover {
            background: #4AA84A;
          }
          .btn-primary:disabled {
            background: #3d4549;
            cursor: not-allowed;
          }
          .btn-warning {
            background: #F8BE34;
            color: #1a1a1a;
          }
          .btn-warning:hover {
            background: #e5ab21;
          }
          .status-box {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
            display: none;
          }
          .status-progress {
            background: #2a2a1a;
            border: 1px solid #F8BE34;
            color: #F8BE34;
            display: block;
          }
          .status-success {
            background: #1a3a1a;
            border: 1px solid #5CC05C;
            color: #5CC05C;
            display: block;
          }
          .status-error {
            background: #3a1a1a;
            border: 1px solid #DC4E41;
            color: #DC4E41;
            display: block;
          }
          .info-text {
            color: #8e9aa5;
            font-size: 13px;
            margin-bottom: 15px;
          }
        </style>
        <div class="action-panel">
          <p class="info-text">
            This will delete existing log files and generate new ones based on your settings.
          </p>
          <button class="btn btn-primary" id="generate-btn">
            ‚ñ∂ Generate Logs
          </button>
          <button class="btn btn-warning" id="clean-btn">
            üóëÔ∏è Clean Only
          </button>
          <div id="status-box" class="status-box"></div>
        </div>
        <!-- JavaScript is loaded via external file: admin_generator.js -->
      </html>
    </panel>
  </row>

  <!-- ========================================================================
       ROW 5: Quick Reference
       ======================================================================== -->
  <row>
    <panel>
      <title>üìñ Quick Reference</title>
      <html>
        <style>
          .ref-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 15px;
          }
          .ref-card {
            background: #1f2527;
            border-radius: 4px;
            padding: 15px;
          }
          .ref-card h4 {
            margin: 0 0 10px 0;
            color: #5CC05C;
            font-size: 13px;
          }
          .ref-card ul {
            margin: 0;
            padding-left: 18px;
            color: #8e9aa5;
            font-size: 12px;
          }
          .ref-card li {
            margin-bottom: 4px;
          }
        </style>
        <div class="ref-grid">
          <div class="ref-card">
            <h4>Source Groups</h4>
            <ul>
              <li><strong>cloud:</strong> aws, gcp, entraid</li>
              <li><strong>network:</strong> asa, meraki</li>
              <li><strong>windows:</strong> wineventlog, perfmon</li>
              <li><strong>collaboration:</strong> webex, webex_ta, webex_api, exchange</li>
              <li><strong>retail:</strong> orders, servicebus</li>
              <li><strong>itsm:</strong> servicenow</li>
            </ul>
          </div>
          <div class="ref-card">
            <h4>Attack Scenarios</h4>
            <ul>
              <li><strong>exfil:</strong> APT data exfiltration (14 days)</li>
              <li><strong>ransomware_attempt:</strong> Ransomware stopped (days 8-9)</li>
            </ul>
            <h4 style="margin-top: 10px;">Ops Scenarios</h4>
            <ul>
              <li><strong>memory_leak:</strong> Linux app OOM (days 4-10)</li>
              <li><strong>cpu_runaway:</strong> SQL backup stuck (days 11-12)</li>
              <li><strong>disk_filling:</strong> Gradual disk fill (14 days)</li>
            </ul>
          </div>
          <div class="ref-card">
            <h4>Network Scenarios</h4>
            <ul>
              <li><strong>firewall_misconfig:</strong> Rule mistake (day 7)</li>
              <li><strong>certificate_expiry:</strong> SSL expires (day 12)</li>
            </ul>
            <h4 style="margin-top: 10px;">Dependencies</h4>
            <ul>
              <li>orders ‚Üí requires access</li>
              <li>servicebus ‚Üí requires access</li>
              <li>meraki ‚Üí requires webex</li>
              <li>exchange ‚Üí requires webex</li>
            </ul>
          </div>
        </div>
      </html>
    </panel>
  </row>

</dashboard>
