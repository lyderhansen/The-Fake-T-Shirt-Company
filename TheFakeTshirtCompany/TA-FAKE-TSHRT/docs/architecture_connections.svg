<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1440 1000" width="1440" height="1000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <rect x="0" y="0" width="1440" height="1000" fill="#0B0C10"/>
  <defs>
    <marker id="c-arrow" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#45A29E"/></marker>
    <marker id="c-arrow-win" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#0078D4"/></marker>
    <marker id="c-arrow-linux" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#E95420"/></marker>
    <marker id="c-arrow-data" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#FFD700"/></marker>
    <marker id="c-arrow-mgmt" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#FF6B35"/></marker>
  </defs>

  <!-- Legend for this diagram -->
  <text x="40" y="25" fill="#66FCF1" font-size="16" font-weight="700">Server Connections &amp; Data Flows</text>
  <text x="40" y="42" fill="#888" font-size="10">Logical connections between servers, showing authentication, data flows, and management paths</text>

  <!-- ===== INTERNET + PERIMETER (y=60-130) ===== -->
  <rect x="580" y="60" width="280" height="36" rx="5" fill="#1F2833" stroke="#C5C6C7" stroke-width="1"/>
  <text x="720" y="83" text-anchor="middle" fill="#C5C6C7" font-size="12" font-weight="600">INTERNET</text>

  <!-- ASA -->
  <g>
    <rect x="580" y="110" width="280" height="40" rx="5" fill="#1F2833" stroke="#45A29E" stroke-width="2"/>
    <text x="720" y="130" text-anchor="middle" fill="#66FCF1" font-size="12" font-weight="700">FW-EDGE-01</text>
    <text x="720" y="144" text-anchor="middle" fill="#888" font-size="9">ASA 5525-X | Perimeter | 203.0.113.1</text>
  </g>
  <line x1="720" y1="96" x2="720" y2="110" stroke="#45A29E" stroke-width="1.5" marker-end="url(#c-arrow)"/>

  <!-- Secure Access (cloud proxy) -->
  <g>
    <rect x="160" y="110" width="200" height="40" rx="5" fill="#2d1f15" stroke="#FF6B35" stroke-width="1.5"/>
    <text x="260" y="130" text-anchor="middle" fill="#FF6B35" font-size="11" font-weight="600">Cisco Secure Access</text>
    <text x="260" y="144" text-anchor="middle" fill="#888" font-size="9">DNS + SWG + CFFW</text>
  </g>
  <path d="M 360,130 L 580,130" stroke="#FF6B35" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>

  <!-- ===== DMZ ZONE (y=170-230) ===== -->
  <rect x="60" y="170" width="340" height="60" rx="6" fill="#111822" stroke="#45A29E" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="75" y="186" fill="#45A29E" font-size="10" font-weight="600">DMZ 172.16.1.0/24</text>

  <g>
    <rect x="80" y="195" width="120" height="28" rx="4" fill="#1a0d05" stroke="#E95420" stroke-width="1.5"/>
    <text x="140" y="213" text-anchor="middle" fill="#E95420" font-size="10" font-weight="600">WEB-01</text>
  </g>
  <g>
    <rect x="220" y="195" width="120" height="28" rx="4" fill="#1a0d05" stroke="#E95420" stroke-width="1"/>
    <text x="280" y="213" text-anchor="middle" fill="#E95420" font-size="10" font-weight="600">WEB-02</text>
  </g>

  <!-- ASA to DMZ -->
  <path d="M 580,130 L 400,130 L 400,195 L 340,195" stroke="#45A29E" stroke-width="1.5" marker-end="url(#c-arrow)"/>

  <!-- ASA to Bastion (VPN/SSH management access) -->
  <path d="M 860,140 L 1105,140 L 1105,375" stroke="#45A29E" stroke-width="1.5" marker-end="url(#c-arrow)"/>
  <text x="970" y="135" fill="#45A29E" font-size="8" font-weight="600">VPN / SSH</text>

  <!-- ===== BOSTON CORE SERVERS (y=280-500) ===== -->
  <!-- Background box drawn first so all servers render on top -->
  <rect x="400" y="280" width="870" height="220" rx="6" fill="#111822" stroke="#333" stroke-width="1"/>
  <text x="415" y="297" fill="#66FCF1" font-size="11" font-weight="600">BOSTON CORE (10.10.20.x)</text>

  <!-- ===== AD AUTH BUS-BAR (y=252-265) ===== -->
  <rect x="420" y="252" width="730" height="14" rx="3" fill="#0a1628" stroke="#0078D4" stroke-width="1" opacity="0.6"/>
  <text x="785" y="263" text-anchor="middle" fill="#0078D4" font-size="8" font-weight="600">AD / Kerberos / LDAP Authentication Bus</text>

  <!-- DC-BOS-01 feeds the auth bus -->
  <g>
    <rect x="420" y="310" width="150" height="45" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="2"/>
    <text x="495" y="330" text-anchor="middle" fill="#0078D4" font-size="11" font-weight="700">DC-BOS-01</text>
    <text x="495" y="346" text-anchor="middle" fill="#888" font-size="9">10.10.20.10 | AD Primary</text>
  </g>
  <line x1="495" y1="310" x2="495" y2="266" stroke="#0078D4" stroke-width="1.5"/>

  <g>
    <rect x="420" y="365" width="150" height="35" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="1"/>
    <text x="495" y="387" text-anchor="middle" fill="#0078D4" font-size="10">DC-BOS-02 | 10.10.20.11</text>
  </g>
  <!-- DC replication -->
  <line x1="495" y1="355" x2="495" y2="365" stroke="#0078D4" stroke-width="1" stroke-dasharray="3,2"/>

  <!-- Row 1: Windows servers -->
  <g>
    <rect x="610" y="310" width="150" height="45" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="1.5"/>
    <text x="685" y="330" text-anchor="middle" fill="#0078D4" font-size="11" font-weight="600">SQL-PROD-01</text>
    <text x="685" y="346" text-anchor="middle" fill="#888" font-size="9">10.10.20.30 | MSSQL</text>
  </g>
  <g>
    <rect x="820" y="310" width="150" height="45" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="1.5"/>
    <text x="895" y="330" text-anchor="middle" fill="#0078D4" font-size="11" font-weight="600">APP-BOS-01</text>
    <text x="895" y="346" text-anchor="middle" fill="#888" font-size="9">10.10.20.40 | IIS/.NET</text>
  </g>
  <g>
    <rect x="1030" y="310" width="150" height="45" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="1.5"/>
    <text x="1105" y="330" text-anchor="middle" fill="#0078D4" font-size="11" font-weight="600">FILE-BOS-01</text>
    <text x="1105" y="346" text-anchor="middle" fill="#888" font-size="9">10.10.20.20 | SMB</text>
  </g>

  <!-- Row 2: Linux servers -->
  <g>
    <rect x="610" y="375" width="150" height="40" rx="5" fill="#1a0d05" stroke="#E95420" stroke-width="1.5"/>
    <text x="685" y="395" text-anchor="middle" fill="#E95420" font-size="11" font-weight="600">SAP-PROD-01</text>
    <text x="685" y="409" text-anchor="middle" fill="#888" font-size="9">10.10.20.60 | S/4HANA</text>
  </g>
  <g>
    <rect x="820" y="375" width="150" height="40" rx="5" fill="#1a0d05" stroke="#E95420" stroke-width="1"/>
    <text x="895" y="395" text-anchor="middle" fill="#E95420" font-size="11" font-weight="600">SAP-DB-01</text>
    <text x="895" y="409" text-anchor="middle" fill="#888" font-size="9">10.10.20.61 | HANA</text>
  </g>
  <g>
    <rect x="1030" y="375" width="150" height="40" rx="5" fill="#1a0d05" stroke="#E95420" stroke-width="1.5"/>
    <text x="1105" y="395" text-anchor="middle" fill="#E95420" font-size="11" font-weight="600">BASTION-BOS-01</text>
    <text x="1105" y="409" text-anchor="middle" fill="#888" font-size="9">10.10.10.10 | SSH GW</text>
  </g>

  <!-- Auth bus stubs (vertical lines from bus to each server) -->
  <line x1="685" y1="266" x2="685" y2="310" stroke="#0078D4" stroke-width="1" opacity="0.4"/>
  <line x1="895" y1="266" x2="895" y2="310" stroke="#0078D4" stroke-width="1" opacity="0.4"/>
  <line x1="1105" y1="266" x2="1105" y2="310" stroke="#0078D4" stroke-width="1" opacity="0.4"/>

  <!-- Bastion SSH management bus (horizontal bar below row 2) -->
  <rect x="490" y="430" width="540" height="10" rx="3" fill="#0a1628" stroke="#45A29E" stroke-width="1" opacity="0.4"/>
  <text x="760" y="455" text-anchor="middle" fill="#45A29E" font-size="7" opacity="0.6">SSH Management Bus</text>
  <!-- Bastion feeds the SSH bus -->
  <line x1="1105" y1="415" x2="1105" y2="430" stroke="#45A29E" stroke-width="1.5" opacity="0.6"/>
  <!-- SSH stubs up to each server column -->
  <line x1="685" y1="430" x2="685" y2="415" stroke="#45A29E" stroke-width="1" stroke-dasharray="4,3" opacity="0.4" marker-end="url(#c-arrow)"/>
  <line x1="895" y1="430" x2="895" y2="415" stroke="#45A29E" stroke-width="1" stroke-dasharray="4,3" opacity="0.4" marker-end="url(#c-arrow)"/>
  <line x1="495" y1="430" x2="495" y2="400" stroke="#45A29E" stroke-width="1" stroke-dasharray="4,3" opacity="0.4" marker-end="url(#c-arrow)"/>

  <!-- ===== DATA FLOW ARROWS ===== -->
  <!-- WEB-01 -> APP-BOS-01 (HTTP API) -->
  <path d="M 200,209 L 210,209 L 210,240 L 895,240 L 895,310" stroke="#FFD700" stroke-width="1.5" marker-end="url(#c-arrow-data)"/>
  <text x="550" y="236" fill="#FFD700" font-size="8" font-weight="600">HTTP API</text>

  <!-- APP -> SQL (DB queries) -->
  <path d="M 820,332 L 760,332" stroke="#FFD700" stroke-width="1.5" marker-end="url(#c-arrow-data)"/>
  <text x="788" y="325" fill="#FFD700" font-size="8">SQL</text>

  <!-- APP -> FILE (SMB) -->
  <path d="M 970,332 L 1030,332" stroke="#FFD700" stroke-width="1" marker-end="url(#c-arrow-data)"/>
  <text x="998" y="325" fill="#FFD700" font-size="8">SMB</text>

  <!-- SAP-PROD -> SAP-DB -->
  <path d="M 760,395 L 820,395" stroke="#FFD700" stroke-width="1.5" marker-end="url(#c-arrow-data)"/>
  <text x="788" y="390" fill="#FFD700" font-size="8">HANA</text>

  <!-- ===== ATLANTA SECTION (y=530-650) ===== -->
  <rect x="60" y="530" width="540" height="120" rx="6" fill="#111822" stroke="#333" stroke-width="1"/>
  <text x="75" y="550" fill="#66FCF1" font-size="11" font-weight="600">ATLANTA HUB (10.20.20.x)</text>

  <g>
    <rect x="80" y="560" width="140" height="40" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="1"/>
    <text x="150" y="580" text-anchor="middle" fill="#0078D4" font-size="10" font-weight="600">DC-ATL-01</text>
    <text x="150" y="594" text-anchor="middle" fill="#888" font-size="9">10.20.20.10</text>
  </g>
  <g>
    <rect x="240" y="560" width="140" height="40" rx="5" fill="#0a1628" stroke="#0078D4" stroke-width="1"/>
    <text x="310" y="580" text-anchor="middle" fill="#0078D4" font-size="10" font-weight="600">BACKUP-ATL-01</text>
    <text x="310" y="594" text-anchor="middle" fill="#888" font-size="9">10.20.20.20</text>
  </g>
  <g>
    <rect x="400" y="560" width="140" height="40" rx="5" fill="#1a0d05" stroke="#E95420" stroke-width="1.5"/>
    <text x="470" y="580" text-anchor="middle" fill="#E95420" font-size="10" font-weight="600">MON-ATL-01</text>
    <text x="470" y="594" text-anchor="middle" fill="#888" font-size="9">10.20.20.30</text>
  </g>

  <!-- DC-ATL to DC-BOS replication (orthogonal) -->
  <path d="M 150,550 L 150,510 L 495,510 L 495,400" stroke="#0078D4" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>
  <text x="320" y="505" fill="#0078D4" font-size="8" opacity="0.6">AD Replication</text>

  <!-- BACKUP-ATL to SQL-PROD (backup flow, orthogonal) -->
  <path d="M 310,550 L 310,515 L 685,515 L 685,355" stroke="#FFD700" stroke-width="1" stroke-dasharray="5,3" opacity="0.5"/>
  <text x="500" y="525" fill="#FFD700" font-size="8" opacity="0.6">SQL Backup</text>

  <!-- ===== SD-WAN MESH (y=530-650) ===== -->
  <rect x="640" y="530" width="300" height="120" rx="6" fill="#0d1a0d" stroke="#78BE20" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="655" y="550" fill="#78BE20" font-size="11" font-weight="600">SD-WAN / AutoVPN Mesh</text>

  <g>
    <rect x="660" y="560" width="110" height="36" rx="4" fill="#1F2833" stroke="#78BE20" stroke-width="1.5"/>
    <text x="715" y="582" text-anchor="middle" fill="#78BE20" font-size="10" font-weight="600">MX-BOS (HA)</text>
  </g>
  <g>
    <rect x="660" y="605" width="110" height="36" rx="4" fill="#1F2833" stroke="#78BE20" stroke-width="1"/>
    <text x="715" y="627" text-anchor="middle" fill="#78BE20" font-size="10">MX-ATL-01</text>
  </g>
  <g>
    <rect x="800" y="560" width="110" height="36" rx="4" fill="#1F2833" stroke="#78BE20" stroke-width="1"/>
    <text x="855" y="582" text-anchor="middle" fill="#78BE20" font-size="10">MX-AUS-01</text>
  </g>

  <!-- VPN mesh lines -->
  <!-- BOS <-> ATL (vertical) -->
  <line x1="715" y1="596" x2="715" y2="605" stroke="#78BE20" stroke-width="1.5" stroke-dasharray="4,3"/>
  <!-- BOS <-> AUS (horizontal) -->
  <line x1="770" y1="578" x2="800" y2="578" stroke="#78BE20" stroke-width="1.5" stroke-dasharray="4,3"/>
  <!-- ATL <-> AUS (L-shape: right from ATL, then up to AUS) -->
  <path d="M 770,623 L 855,623 L 855,596" stroke="#78BE20" stroke-width="1.5" stroke-dasharray="4,3" fill="none"/>

  <!-- ===== AUSTIN (y=530-650) ===== -->
  <rect x="980" y="530" width="420" height="120" rx="6" fill="#111822" stroke="#333" stroke-width="1"/>
  <text x="995" y="550" fill="#66FCF1" font-size="11" font-weight="600">AUSTIN OFFICE (No Local Servers)</text>
  <text x="995" y="568" fill="#888" font-size="10">All services accessed via SD-WAN tunnel to Boston/Atlanta</text>

  <g>
    <rect x="1000" y="585" width="180" height="30" rx="4" fill="#1F2833" stroke="#FF4444" stroke-width="1" stroke-dasharray="4,2"/>
    <text x="1090" y="604" text-anchor="middle" fill="#FF8888" font-size="10">brooklyn.white (ransomware target)</text>
  </g>

  <!-- ===== CLOUD DEPENDENCIES (y=690-810) ===== -->
  <rect x="60" y="690" width="1340" height="120" rx="6" fill="none" stroke="#4A90D9" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <text x="80" y="710" fill="#4A90D9" font-size="11" font-weight="600">Cloud Dependencies</text>

  <g>
    <rect x="80" y="725" width="170" height="35" rx="4" fill="#1F2833" stroke="#0078D4" stroke-width="1"/>
    <text x="165" y="747" text-anchor="middle" fill="#0078D4" font-size="10" font-weight="600">Entra ID / M365</text>
  </g>
  <g>
    <rect x="270" y="725" width="140" height="35" rx="4" fill="#1F2833" stroke="#FF9900" stroke-width="1"/>
    <text x="340" y="747" text-anchor="middle" fill="#FF9900" font-size="10" font-weight="600">AWS</text>
  </g>
  <g>
    <rect x="430" y="725" width="140" height="35" rx="4" fill="#1F2833" stroke="#4285F4" stroke-width="1"/>
    <text x="500" y="747" text-anchor="middle" fill="#4285F4" font-size="10" font-weight="600">GCP</text>
  </g>
  <g>
    <rect x="590" y="725" width="150" height="35" rx="4" fill="#1F2833" stroke="#0078D4" stroke-width="1"/>
    <text x="665" y="747" text-anchor="middle" fill="#0078D4" font-size="10" font-weight="600">Exchange Online</text>
  </g>
  <g>
    <rect x="760" y="725" width="140" height="35" rx="4" fill="#1F2833" stroke="#81B5A1" stroke-width="1"/>
    <text x="830" y="747" text-anchor="middle" fill="#81B5A1" font-size="10" font-weight="600">ServiceNow</text>
  </g>
  <g>
    <rect x="920" y="725" width="140" height="35" rx="4" fill="#1F2833" stroke="#00BCF2" stroke-width="1"/>
    <text x="990" y="747" text-anchor="middle" fill="#00BCF2" font-size="10" font-weight="600">Cisco Webex</text>
  </g>
  <g>
    <rect x="1080" y="725" width="150" height="35" rx="4" fill="#1F2833" stroke="#78BE20" stroke-width="1"/>
    <text x="1155" y="747" text-anchor="middle" fill="#78BE20" font-size="10" font-weight="600">Meraki Dashboard</text>
  </g>

  <!-- Connection legend -->
  <rect x="60" y="830" width="1340" height="60" rx="4" fill="#0d1117" stroke="#333" stroke-width="1"/>
  <text x="80" y="850" fill="#888" font-size="10" font-weight="600">Connection Legend:</text>
  <line x1="80" y1="870" x2="120" y2="870" stroke="#0078D4" stroke-width="1.5"/><text x="130" y="874" fill="#0078D4" font-size="9">AD Auth (Kerberos/LDAP)</text>
  <line x1="320" y1="870" x2="360" y2="870" stroke="#FFD700" stroke-width="1.5"/><text x="370" y="874" fill="#FFD700" font-size="9">Data Flow</text>
  <line x1="520" y1="870" x2="560" y2="870" stroke="#78BE20" stroke-width="1.5" stroke-dasharray="5,3"/><text x="570" y="874" fill="#78BE20" font-size="9">SD-WAN / VPN</text>
  <line x1="730" y1="870" x2="770" y2="870" stroke="#FF6B35" stroke-width="1.5" stroke-dasharray="4,3"/><text x="780" y="874" fill="#FF6B35" font-size="9">Management</text>
  <line x1="930" y1="870" x2="970" y2="870" stroke="#FF4444" stroke-width="1.5" stroke-dasharray="4,3"/><text x="980" y="874" fill="#FF4444" font-size="9">Threat / Attack Path</text>

</svg>
